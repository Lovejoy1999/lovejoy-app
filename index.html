<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lovejoy Dail: Unified Communication Services</title>
    <!-- Importing high-end serif and elegant script fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:wght@400;600&family=Pinyon+Script&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-light: #fefcfb;
            --bg-cream: #fff5e8;
            --text-dark: #3a2e2e;
            --gold-primary: #a38c64; /* Deeper, rich gold */
            --gold-accent: #c0a87a;
            --whatsapp-green: #25D366; 
            --box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background-color: var(--bg-light);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            color: var(--text-dark);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect x="0" y="0" width="100" height="100" fill="%23fefcfb"/><circle cx="50" cy="50" r="1" fill="%23e8e2d7" opacity="0.5"/></svg>');
        }

        .container {
            width: 100%;
            max-width: 650px; /* Slightly wider for better service segmentation */
            background: var(--bg-cream);
            border-radius: 20px;
            box-shadow: var(--box-shadow);
            overflow: hidden;
            padding: 40px 30px;
            position: relative;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(163, 140, 100, 0.2);
            padding-bottom: 20px;
        }

        h1 {
            font-family: 'Cinzel', serif;
            font-weight: 700;
            font-size: 2.5rem;
            letter-spacing: 5px;
            margin-bottom: 0.2rem;
            text-transform: uppercase;
            color: var(--gold-primary);
            text-shadow: 1px 1px 1px rgba(0,0,0,0.1);
        }

        .tagline {
            font-family: 'Pinyon Script', cursive;
            font-size: 2.5rem;
            color: var(--gold-accent);
            display: block;
            margin-top: -10px;
        }

        section {
            padding: 30px 0;
            border-bottom: 1px solid rgba(163, 140, 100, 0.1);
        }

        h2 {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 20px;
            color: var(--gold-primary);
        }
        
        h3 {
            font-family: 'Cinzel', serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-top: 25px;
            margin-bottom: 15px;
            border-bottom: 1px dashed var(--gold-accent);
            padding-bottom: 5px;
        }

        .services-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .service-item {
            background: #ffffff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.2s;
            border-left: 3px solid var(--gold-accent);
        }
        
        /* Ensure responsiveness for service grid */
        @media (max-width: 500px) {
            .services-grid {
                grid-template-columns: 1fr;
            }
        }

        .service-item strong {
            display: block;
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: var(--text-dark);
            font-family: 'Cinzel', serif;
        }

        .service-item p {
            font-size: 0.85rem;
            color: #6a6060;
            line-height: 1.4;
        }
        
        /* Call to Action Section Styling */
        .cta-section {
            text-align: center;
            padding: 30px 0;
            border: none;
        }
        
        .cta-section p {
            font-size: 1.1rem;
            margin-bottom: 25px;
            font-style: italic;
            color: var(--text-dark);
        }

        /* Direct WhatsApp Link Styling (Guaranteed to work) */
        .whatsapp-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 15px 35px;
            background-color: var(--whatsapp-green);
            color: white;
            font-family: 'Cinzel', serif;
            letter-spacing: 2px;
            font-size: 1rem;
            border-radius: 10px;
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.4);
            transition: all 0.3s ease;
            text-decoration: none; 
            font-weight: 600;
        }
        
        .whatsapp-link svg {
            margin-right: 10px;
        }

        .whatsapp-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(37, 211, 102, 0.6);
            background-color: #128C7E;
        }
        
        /* Utility Section Styling (AI Tools) */
        .ai-section {
            padding: 30px 20px;
            background: var(--bg-light);
            border-radius: 15px;
            box-shadow: inset 0 0 10px rgba(163, 140, 100, 0.1);
            margin-top: 20px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 0.95rem;
            color: #6a6060;
        }

        .input-group select,
        .input-group textarea,
        .input-group input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #e0d8d8;
            border-radius: 8px;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1rem;
            background: #ffffff;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.02);
            resize: vertical;
        }
        
        .generate-btn {
            display: block;
            width: 100%;
            background: linear-gradient(45deg, var(--gold-primary), var(--gold-accent));
            border: none;
            padding: 12px 20px;
            color: white;
            font-family: 'Cinzel', serif;
            letter-spacing: 1px;
            font-size: 0.9rem;
            cursor: pointer;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(163, 140, 100, 0.5);
            transition: all 0.3s ease;
        }
        
        .generate-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(163, 140, 100, 0.7);
        }
        
        .generate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #script-output {
            margin-top: 20px;
            padding: 15px;
            border: 2px dashed var(--gold-accent);
            background: var(--bg-cream);
            border-radius: 10px;
            min-height: 80px;
            font-style: italic;
            font-size: 0.95rem;
            white-space: pre-wrap;
            position: relative;
        }
        
        #script-output.loading::after {
            content: 'Drafting elegance...';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gold-primary);
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            font-style: normal;
            font-family: 'Cinzel', serif;
            letter-spacing: 1px;
        }
        
    </style>
</head>
<body>

    <div class="container">
        <!-- HEADER -->
        <header>
            <h1 id="brand-name">Lovejoy Dail</h1>
            <span class="tagline">Discreet, Professional, and Personal Communication</span>
        </header>

        <!-- SERVICES SECTION -->
        <section class="services-offered">
            <h2>Our Complete Service Portfolio</h2>
            
            <h3>Executive & Business Services</h3>
            <div class="services-grid">
                
                <div class="service-item">
                    <strong>Virtual Assistance (Executive)</strong>
                    <p>High-level support for scheduling, email filtering, and strategic communication management.</p>
                </div>
                
                <div class="service-item">
                    <strong>Conflict Resolution Calls</strong>
                    <p>Neutral, professional intervention to mediate disputes or handle challenging client conversations.</p>
                </div>
                
                <div class="service-item">
                    <strong>Professional Voice Overs</strong>
                    <p>Crisp, clear, and authoritative voice tracks for presentations, IVR systems, and brand content.</p>
                </div>
                
                <div class="service-item">
                    <strong>Client Follow-up & Reminders</strong>
                    <p>Discreet and timely calls for invoicing, appointments, or important business obligations.</p>
                </div>
            </div>
            
            <h3>Personal & Relationship Services</h3>
            <div class="services-grid">
                
                <div class="service-item">
                    <strong>Loyalty Test Calls</strong>
                    <p>A discreet service to check the fidelity and commitment of a partner or associate.</p>
                </div>
                
                <div class="service-item">
                    <strong>Celebration Calls (Birthday/Anniversary)</strong>
                    <p>Personalized, thoughtful calls to mark special occasions with warmth and sincerity.</p>
                </div>
                
                <div class="service-item">
                    <strong>Motivational & Comfort Calls</strong>
                    <p>Uplifting conversations designed to encourage, support, or provide personalized comfort.</p>
                </div>
                
                <div class="service-item">
                    <strong>Customer/Relationship Appreciation</strong>
                    <p>Genuine, personalized calls to show gratitude and strengthen important personal bonds.</p>
                </div>
            </div>
        </section>
        
        <!-- AI TOOL SECTION -->
        <section class="ai-section">
            <h2>ðŸ’Ž Communication Draftsman</h2>
            <p style="font-size: 0.9rem; margin-bottom: 20px; text-align: center; color: #6a6060;">
                Use our AI to instantly draft the perfect tone and structure for any call type.
            </p>
            <div class="input-group">
                <label for="service-type">Call Objective:</label>
                <select id="service-type">
                    <option value="Client Follow-up Call">Client Follow-up Call (Sales)</option>
                    <option value="Loyalty Test Opening">Loyalty Test Call Opening</option>
                    <option value="Conflict Resolution Opening">Conflict Resolution Opening</option>
                    <option value="Birthday Celebration Call">Birthday Celebration Call</option>
                    <option value="Motivational Call">Motivational Call (Discouraged friend)</option>
                    <option value="Executive Voice Over Script">Executive Voice Over Script (15s)</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="context-input">Key Information & Desired Tone:</label>
                <textarea id="context-input" rows="4" placeholder="Enter key context, recipient details, and specific tone requirements..."></textarea>
            </div>
            
            <button class="generate-btn" id="generate-script-btn">Draft Script with Elegance</button>
            
            <div id="script-output" role="status" aria-live="polite">
                Your high-caliber communication draft will appear here.
            </div>
        </section>

        <!-- CTA AND CONTACT SECTION -->
        <section class="cta-section">
            <h2>Ready to Begin?</h2>
            <p>Connect with Lovejoy Dail instantly to discuss your needs, from executive support to personal sentiments.</p>
            
            <!-- GUARANTEED DIRECT WHATSAPP LINK (HTML ONLY) -->
            <!-- Number: 2349151354072 -->
            <a href="https://api.whatsapp.com/send?phone=2349151354072&text=Hello%2C%20I%20am%20interested%20in%20your%20Executive%20and%20Personal%20Communication%20services." 
               class="whatsapp-link" 
               target="_blank" 
               id="direct-whatsapp-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-whatsapp"><path d="M12.9 5C6 5 2 10.5 2 15c0 3.5 2.5 5 5 5h2l-2 2h6v-2h2c2.5 0 5-1.5 5-5 0-4.5-4-10-10.9-10z"/><path d="M12.5 13.5v-3.5h-2"/></svg>
                Chat with an Advisor
            </a>
            <p style="margin-top: 15px; font-size: 0.85rem; color: #a38c64; font-style: normal;">WhatsApp: +234 915 135 4072</p>

        </section>
        
    </div>

    <script type="module">
        // --- CONFIGURATION REQUIRED ---
        // Your WhatsApp phone number in international format (no +, no spaces)
        const YOUR_WHATSAPP_NUMBER = '2349151354072'; 
        // ---------------------------------
        
        // Firebase and API Constants
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        setLogLevel('Debug');

        // --- Global Firebase Variable Initialization ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'lovejoy-app-default';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const __initial_auth_token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        // IMPORTANT: Gemini API Key (Required for Script Draftsman)
        const apiKey = "AIzaSyD8mYdIHoGg_4tIkdKDSiXZXM9rWUMjZZZA"; 

        // DOM Elements
        const generateButton = document.getElementById('generate-script-btn');
        const serviceType = document.getElementById('service-type');
        const contextInput = document.getElementById('context-input');
        const scriptOutput = document.getElementById('script-output');
        const directLink = document.getElementById('direct-whatsapp-link');


        let auth, db, userId;
        
        // --- Firebase Initialization and Authentication ---
        async function initFirebase() {
            try {
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
                
                if (__initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }
                userId = auth.currentUser?.uid || crypto.randomUUID();
                console.log("Firebase Auth initialized. User ID:", userId);
            } catch (error) {
                console.error("Error initializing Firebase:", error);
                userId = 'anonymous-user-fallback';
            }
        }
        
        /**
         * Updates the direct WhatsApp link to ensure it always uses the latest configured number.
         * The text is also made dynamic based on the brand name.
         */
        function updateWhatsAppLink() {
             const encodedText = encodeURIComponent(`Hello, I am interested in your Executive and Personal Communication services.`);
             directLink.href = `https://api.whatsapp.com/send?phone=${YOUR_WHATSAPP_NUMBER}&text=${encodedText}`;
        }

        // --- Gemini API Call Utilities (Existing) ---
        const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));

        async function fetchWithRetry(url, options, retries = 3) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (!response.ok) {
                        if (response.status === 429 || response.status >= 500) {
                            throw new Error(`Server error with status: ${response.status}`);
                        }
                    }
                    return response;
                } catch (error) {
                    console.error("Fetch attempt failed:", error);
                    if (i < retries - 1) {
                        const delay = Math.pow(2, i) * 1000;
                        console.log(`Retrying in ${delay / 1000}s...`);
                        await sleep(delay);
                    } else {
                        throw new Error("Failed to connect to the Gemini API after multiple retries.");
                    }
                }
            }
        }

        // --- Feature: Script Generation Logic (AI) ---
        async function generateScript() {
            const selectedService = serviceType.value;
            const context = contextInput.value.trim();

            if (!context) {
                scriptOutput.textContent = "Please provide context and tone requirements to draft the script.";
                return;
            }

            scriptOutput.textContent = "";
            scriptOutput.classList.add('loading');
            generateButton.disabled = true;

            const systemPrompt = `You are a specialist in creating elegant, personalized, and chic phone call scripts for a premium communication service. The scripts must sound polished, warm, professional, and sophisticated. Use gentle, persuasive, and encouraging language, suitable for both executive and personal contexts. The script should be brief and suitable for a 1-3 minute conversation, focusing on the core message. Format the output neatly as a short script, including a suggested opening and closing line.`;
            
            const userQuery = `Generate a call script for a "${selectedService}" using the following specific context: "${context}".`;
            
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };
            
            try {
                const response = await fetchWithRetry(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text;

                if (text) {
                    scriptOutput.textContent = text;
                } else {
                    console.error("API response error:", result);
                    scriptOutput.textContent = "Error: Could not draft the script. Please try a different prompt or check the console.";
                }

            } catch (error) {
                console.error("Error during API call:", error);
                scriptOutput.textContent = `A communication error occurred: ${error.message}`;
            } finally {
                scriptOutput.classList.remove('loading');
                generateButton.disabled = false;
            }
        }


        // --- Event Listeners and Setup ---
        window.onload = async () => {
            await initFirebase();
            generateButton.addEventListener('click', generateScript);
            
            // 1. Ensure the correct number is set on the link
            updateWhatsAppLink();
        };
        
    </script>

</body>
</html>
